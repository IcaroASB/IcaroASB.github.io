<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Art Portfolio</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav>
    <ul>
      <a href="#about">About</a>
      <li><a href="gallery.html">Gallery</a></li>
      <a href="#gallery">Gallery (Preview)</a>
      <li class="dropdown">

        <!-- Placeholder for Yvon to see if she likes dropd} -->
        <a href="#">Collections ▾</a> 
        <ul class="dropdown-content">
          <li><a href="#">Sketches</a></li>
          <li><a href="#">Portraits</a></li>
          <li><a href="#">Landscapes</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <header>
    <h1>Yvon Lu</h1>
    <p>Charcoal & Graphite Artist</p>
  </header>

  <section class="gallery">
    <nav>
      <a href="index.html" style="color:#eee;text-decoration:none;font-size:1.2rem;font-weight:bold;">Back to Home</a>
    </nav>

    <section class="collections-section">
      <h2>Collections</h2>
      <div class="collections-bar" id="collections-bar">
        <div class="collection-tab active" data-collection="portraits">Portraits</div>
        <div class="collection-tab" data-collection="sketches">Sketches</div>
        <div class="collection-tab" data-collection="landscapes">Landscapes</div>
        <div class="collection-tab" data-collection="abstracts">Abstracts</div>
        <div class="collection-tab" data-collection="ink">Ink Work</div>
      </div>
      <p class="collection-description" id="collection-description"></p> 
    </section>

    <section class="gallery" id="gallery"></section>

  <div id="modal" onclick="closeModal(event)">
    <img id="modal-img" src="" alt="Zoomed Art" />
    <button class="inquiry-button" onclick="toggleForm(event)">Inquire About This Piece</button>
    <!-- testing w/ my email. Change later -->
    <form id="inquiry-form" action="https://formsubmit.co/icaroabacelar@gmail.com" method="POST" onsubmit="submitForm(event)" style="display: none;">
      <input type="hidden" name="artTitle" id="form-art-title" />
      
      <label>
        Your Name:
        <input type="text" name="name" required />
      </label>
      
      <label>
        Your Email:
        <input type="email" name="email" required />
      </label>
      
      <label>
        Message:
        <textarea name="message" rows="4" required></textarea>
      </label>
      
      <!-- Optional: Disable CAPTCHA. Don't think it will be spammed and captcha is annoying -->
      <input type="hidden" name="_captcha" value="false">

      <!-- Optional: Redirect after submission. Check if you like -->
      <input type="hidden" name="_next" value="https://yourwebsite.com/thank-you.html">

      <button type="submit">Send Inquiry</button>
    </form>
  </div>

    <script>
      const tabs = document.querySelectorAll('.collection-tab');
      const gallery = document.getElementById('gallery');
      const modal = document.getElementById('modal');
      const modalImg = document.getElementById('modal-img');
      const form = document.getElementById('inquiry-form');
      const formArtTitle = document.getElementById('form-art-title');
      const description = document.getElementById('collection-description');
      let currentArtTitle = '';

      function setActiveTab(selectedTab) {
        tabs.forEach(tab => tab.classList.remove('active'));
        selectedTab.classList.add('active');
      }

      function loadCollection(collection) {
        fetch(`collections/${collection}.json`)
          .then(res => res.json())
          .then(data => {
            gallery.innerHTML = '';
            description.textContent = data.description || ''; // FILL
            (data.artworks || data).forEach(art => {
              const div = document.createElement('div');
              div.className = 'art-piece';
              div.innerHTML = `
                <img src="images/${art.filename}" alt="${art.title}" onclick="openModal(event, '${art.filename}', '${art.title}')" />
                <p class="caption">"${art.title}" — ${art.status}</p>
              `;
              gallery.appendChild(div);
            });
          })
          .catch(err => {
            gallery.innerHTML = '<p style="color: red;">Error loading collection.</p>';
          });
      }

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          setActiveTab(tab);
          loadCollection(tab.dataset.collection);
        });
      });

      function openModal(event, filename, title) {
        event.stopPropagation();
        currentArtTitle = title;
        modal.style.display = 'flex';
        modalImg.src = `images/${filename}`;
        form.style.display = 'none'; 
      }

      function closeModal(event) {
        if (event.target.id === 'modal' || event.target.tagName === 'IMG') {
          modal.style.display = 'none';
        }
      }

      function openInquiry(event) {
        event.stopPropagation();
        form.style.display = 'flex';
        formArtTitle.value = currentArtTitle;
      }

      function submitForm(event) {
        
        alert("Your inquiry has been submitted!");
      }

      loadCollection('portraits');
    </script>
  </section>

  <!-- Previous Interation: Images on HTML
  <section class="gallery">
    <div class="art-piece" onclick="openModal(this)">
      <img src="images/art1.jpg" alt="Art 1" />
      <p class="caption">"Stillness" — Sold</p>
    </div>
    <div class="art-piece" onclick="openModal(this)">
      <img src="images/art2.jpg" alt="Art 2" />
      <p class="caption">"Morning Light" — Available</p>
    </div>
  </section> -->

  <section id="about">
    <h2>About</h2>
    <p>Welcome to Yvon's world of charcoal and graphite. This section will include a full bio, artistic influences, and creative process.</p>
  </section>

  <section id="contact">
    <h2>Contact</h2>
    <p>You can reach out via email for inquiries, commissions, or collaborations.</p>
    <a href="mailto:your.email@example.com">your.email@example.com</a>
  </section>

  <div id="modal" onclick="closeModal()">
    <img id="modal-img" src="" alt="Zoomed Art" />
  </div>

  <script src="script.js"></script>
</body>
</html>
